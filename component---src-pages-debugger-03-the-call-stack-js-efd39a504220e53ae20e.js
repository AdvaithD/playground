webpackJsonp([0xb6ba246fe0d3],{227:function(e,t,n){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=n(1),o=l(a),i=n(44),u=l(i),c=n(12),r=l(c),s=n(15),d=l(s),h=n(56),f=l(h),p=n(552),m=l(p),w=n(549),g=l(w),b=n(550),E=l(b),v=n(551),k=l(v),y=function(){return o.default.createElement("div",null,o.default.createElement("h2",null,"The Call Stack"),o.default.createElement("p",null,"Now let’s add some functionality to our todo app. In this example we’ve added the ability to delete a task. Open the app in a new tab to follow along:"),o.default.createElement("p",null,o.default.createElement("a",{href:"https://mozilladevelopers.github.io/sample-todo/02-call-stack/",target:"_blank",rel:"noopener noreferrer"},"Open to-do app in new tab.")),o.default.createElement("p",null,"Try adding a few tasks. Now try deleting the first task. It seems to be working. Now try deleting the final task. ",o.default.createElement("em",null,"Uh-Oh"),". Something is not quite right. The top task is deleted from the app every time, regardless of which task we try to delete."),o.default.createElement("p",null,"Let’s dive into Debugger to see what’s going on in the code. Locate the"," ",o.default.createElement("code",null,"removeSingle"),"function on Line 39 of app.js. This is the function that handles the removal of a task. Insert a breakpoint on line 40, which will trigger right after an item is deleted. Try to delete the last item in our to-do list to trigger this breakpoint. Now we can step through the code to find the root of our problem."),o.default.createElement("p",null,"In the previous section, we learned how to use the ‘Step Over’ button to step across lines of JavaScript code. We can use the 'Step Over’ button here, but when we reach the"," ",o.default.createElement("code",null,"spliceItem"),"function, it will execute the function and then move on to the next line. This is great, but what if the problem exists inside that ",o.default.createElement("code",null,"spliceItem")," function? This is where we can use the ‘Step In’ button."),o.default.createElement(f.default,{src:m.default,alt:"step in",caption:"The 'step in' button in the toolbar"}),o.default.createElement("p",null,"The ‘Step In’ button is similar to the ‘Step Over’ Button, but it will allow us to step into a function for debugging, instead of executing it and moving on. Let’s use the ‘Step In’ button until we find ourselves on line 24, inside the ",o.default.createElement("code",null,"createList")," function. Don’t worry if you are a bit confused about what is happening. It will all start to make sense."),o.default.createElement("p",null,"The ",o.default.createElement("code",null,"createList")," function receives an object called ",o.default.createElement("code",null,"list"),", and uses that object to create an updated to-do list. If we hover over the ",o.default.createElement("code",null,"list")," object, we can see the list of to-do items that was provided to this function. We can also see that the item we intended to delete is still there, which means that this function was provided the wrong information. The bug is not in this function, but rather somewhere in the code before this function was invoked."),o.default.createElement("p",null,"On the right side of the Firefox Debugger, there is a section called"," ",o.default.createElement("strong",null,"Call Stack"),". This section provides us with information about which functions we have stepped into, what lines those function are on, and how deep we are in the call stack. If you are following along, you will see that there are four items in the call stack. We started at the ",o.default.createElement("code",null,"spliceItem")," function, which invoked the ",o.default.createElement("code",null,"saveList")," ","function, which invoked the ",o.default.createElement("code",null,"saveList")," function, which invoked the"," ",o.default.createElement("code",null,"createList")," function."),o.default.createElement(f.default,{src:g.default,alt:"step in",caption:"The call stack"}),o.default.createElement("p",null,"The Call Stack section allows us to move back through the call stack so that we can figure out where this problem started. If we click on ",o.default.createElement("code",null,"saveList")," in the call stack section, we can see that it is a simple (and probably unnecessary) function that takes the global"," ",o.default.createElement("code",null,"items")," object and passes it to the ",o.default.createElement("code",null,"createList")," function. The bug can’t be here so let’s click on the ",o.default.createElement("code",null,"spliceItem")," function in the call stack. Do you spot the issue here? The ",o.default.createElement("code",null,"index")," argument is undefined! Now we are getting somewhere."),o.default.createElement(f.default,{src:E.default,alt:"index is undefinfed",caption:"Spotting a bug by moving through the call stack"}),o.default.createElement("p",null,"Let’s continue through the call stack to the ",o.default.createElement("code",null,"removeSingle")," function. Look at the following:"),o.default.createElement(d.default,null,"\nconst index = el.dataset.number;\n      "),o.default.createElement("p",null,"If we hover over ",o.default.createElement("code",null,"index")," (or ",o.default.createElement("code",null,"number"),"), we see that it is undefined. If we hover over ",o.default.createElement("code",null,"dataset")," we’ll see that there is no number property. There is only"," ",o.default.createElement("code",null,"index"),". A typo! The line should say:"),o.default.createElement(d.default,null,"\nconst index = el.dataset.index;\n      "),o.default.createElement("p",null,"Once this is fixed, everything starts working."))},x=function(){return o.default.createElement(r.default,{title:"Firefox DevTools: Hot Tip"},o.default.createElement("p",null,"It was easy to find the function in this example, but what if we had fifty functions across multiple files? Thankfully, you can search for a function in the source pane. Just hit shift-command-O on Mac or shift-control-O on Windows to bring up a search field in the source pane. You can search for a function or arrow through the provided list."),o.default.createElement(f.default,{src:k.default,alt:"searching",caption:"Searching for a function",dark:!0}))};t.default=function(){return o.default.createElement(u.default,{currentPageNum:3,tutorial:o.default.createElement(y,null),homework:o.default.createElement(x,null)})},e.exports=t.default},549:function(e,t,n){e.exports=n.p+"static/callstack.0d15bccb.png"},550:function(e,t,n){e.exports=n.p+"static/index.ed932677.png"},551:function(e,t,n){e.exports=n.p+"static/search.0cf443fa.gif"},552:function(e,t,n){e.exports=n.p+"static/stepin.db3b22a9.png"}});
//# sourceMappingURL=component---src-pages-debugger-03-the-call-stack-js-efd39a504220e53ae20e.js.map